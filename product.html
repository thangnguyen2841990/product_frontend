<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý sản phẩm</title>
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="/plugins/fontawesome-free/css/all.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="/dist/css/adminlte.min.css">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback"
          rel="stylesheet">
    <!-- Font Awesome -->
    <link href="plugins/fontawesome-free/css/all.min.css" rel="stylesheet">
    <!-- Ionicons -->
    <link href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">
    <!-- Tempusdominus Bootstrap 4 -->
    <link href="plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="plugins/icheck-bootstrap/icheck-bootstrap.min.css" rel="stylesheet">
    <!-- JQVMap -->
    <link href="plugins/jqvmap/jqvmap.min.css" rel="stylesheet">
    <!-- Theme style -->
    <link href="dist/css/adminlte.min.css" rel="stylesheet">
    <!-- SweetAlert2 -->
    <link href="plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css" rel="stylesheet">
    <!-- Toastr -->
    <link href="plugins/toastr/toastr.min.css" rel="stylesheet">
    <!-- overlayScrollbars -->
    <link href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css" rel="stylesheet">
    <!-- Daterange picker -->
    <link href="plugins/daterangepicker/daterangepicker.css" rel="stylesheet">
    <!-- summernote -->
    <link href="plugins/summernote/summernote-bs4.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
          integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>


</head>
<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a class="nav-link" href="category.html">Trang danh mục sản phẩm</a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a class="nav-link" href="#">Liên hệ</a>
            </li>
        </ul>

        <!-- Right navbar links -->
        <ul class="navbar-nav ml-auto">
            <!-- Navbar Search -->
            <li class="nav-item">
                <a class="nav-link" data-widget="navbar-search" href="#" role="button">
                    <i class="fas fa-search"></i>
                </a>
                <div class="navbar-search-block">
                    <form class="form-inline">
                        <div class="input-group input-group-sm">
                            <input aria-label="Search" id="q" class="form-control form-control-navbar"
                                   placeholder="Nhập tên sản phẩm cần tìm"
                                   type="search">
                            <div class="input-group-append">
                                <button class="btn btn-navbar" onclick="findProductByName(0)" type="button">
                                    <i class="fas fa-search"></i>
                                </button>
                                <button class="btn btn-navbar" data-widget="navbar-search" type="button">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </li>

        </ul>
        >
    </nav>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
        <!-- Sidebar -->
        <div class="sidebar">
            <!-- Sidebar user panel (optional) -->
            <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                <div class="image">
                    <img alt="User Image" class="img-circle elevation-2" src="dist/img/user2-160x160.jpg">
                </div>
                <div class="info">
                    <a class="d-block" style="text-decoration: none">
                        <div id="displayUsername"></div><span><div>
                        <a style="color: white" onclick="logOut()"><button>Đăng xuất</button></a>
                    </div></span>
                    </a>
                </div>
            </div>


            <!-- Sidebar Menu -->
            <nav class="mt-2">
                <ul class="nav nav-pills nav-sidebar flex-column" data-accordion="false" data-widget="treeview"
                    role="menu">
                    <!-- Add icons to the links using the .nav-icon class
                         with font-awesome or any other icon font library -->
                    <li class="nav-item menu-open">
                        <a class="nav-link active" href="category.html">

                            <p>
                                Danh mục sản phẩm
                                <i class="right fas fa-angle-left"></i>
                            </p>
                        </a>
                        <ul class="nav nav-treeview" id="categoryID">
                            <li class="nav-item">
                                <a class="nav-link" onclick="getProductsByPage(0)">
                                    <p>Tất cả sản phẩm</p>
                                </a>
                            </li>

                            <div id="list-category"></div>
                        </ul>
                    </li>
                </ul>
            </nav>
            <!-- /.sidebar-menu -->
        </div>
        <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1>QUẢN LÝ SẢN PHẨM</h1>
                    </div>
                </div>
            </div><!-- /.container-fluid -->
        </section>

        <!-- Main content -->

        <section class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header row">
                                <h4 class="col-11">Danh sách sản phẩm</h4>

                                <button class="btn btn-primary col-1" data-target="#create-product"
                                        onclick="showCreateForm()" data-toggle="modal"
                                        type="button" style="width: 40px"><i class="fa fa-plus"></i></button>
                            </div>
                            <!-- /.card-header -->

                            <div class="card-body">
                                <center>
                                    <div id="displayPage"></div>
                                    <div id="displayPageSearch"></div>
                                </center>
                                <br>
                                <table class="table table-bordered table-hover" id="example2">
                                    <thead>
                                    <tr>
                                        <th>STT</th>
                                        <th>Ảnh sản phẩm</th>
                                        <th>Tên sản phẩm</th>
                                        <th>Loại sản phẩm</th>
                                        <th>Giá sản phẩm</th>
                                        <th>Số lượng sản phẩm</th>
                                        <th>Mô tả sản phẩm</th>
                                        <th colspan="2">Sửa/Xóa</th>
                                    </tr>
                                    </thead>
                                    <tbody id="product-list-content">

                                    </tbody>
                                </table>
                            </div>
                            <!-- /.card-body -->
                        </div>
                        <!-- /.card -->

                    </div>
                    <!-- /.col -->
                </div>
                <!-- /.row -->
            </div>
            <!-- /.container-fluid -->
        </section>
        <!-- /.content -->
    </div>

    <!--    fomr tạo sản phẩm mới  -->
    <div class="modal fade" id="create-product">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="create-product-title">Thêm mới sản phẩm</h4>
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                    <div class="modal-body">
                        <form id="create-form">

                        <div class="form-group">
                            <label for="category-option">Loại sản phẩm</label>
                            <div id="category-option"></div>
                        </div>
                        <div class="form-group">
                            <label for="name">Tên sản phẩm</label>
                            <input class="form-control" id="name" name="productName" placeholder="Nhập tên sản phẩm"
                                   type="text">
                        </div>
                        <div class="form-group">
                            <label for="price">Giá sản phẩm</label>
                            <input class="form-control" id="price" name="productPrice" placeholder="Nhập giá sản phẩm"
                                   type="text">
                        </div>
                        <div class="form-group">
                            <label for="quantity">Số lượng sản phẩm</label>
                            <input class="form-control" id="quantity" name="productQuantity"
                                   placeholder="Nhập số lượng sản phẩm" type="text">
                        </div>
                        <div class="form-group">
                            <label for="description">Mô tả sản phẩm</label>
                            <input class="form-control" id="description" name="productDescription"
                                   placeholder="Nhập mô tả sản phẩm" type="text">
                        </div>
                        <div class="form-group">
                            <label for="image">Ảnh sản phẩm</label>
                            <input class="form-control" id="image" placeholder="Nhập ảnh sản phẩm" type="file">
                        </div>

                        <div class="modal-footer justify-content-between" id="create-product-footer">
                            <button class="btn btn-secondary" data-dismiss="modal" type="button">Đóng</button>
                            <button class="btn btn-primary" id="submit-create" onclick="createNewProduct()"
                                    type="button">Xác nhận
                            </button>
                        </div>
                        </form>

                    </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->

        </div>
        <!--    fomr tạo sản phẩm mới  -->
    </div>


    <!--form xóa sản phẩm-->
    <div class="modal fade" id="delete-product">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Xóa sản phẩm</h4>
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Bạn có muốn xóa không?</p>
                </div>
                <div class="modal-footer justify-content-between" id="footer-delete">
                </div>
            </div>

        </div>
        <!-- /.modal-dialog -->
    </div>
    <!--form xóa sản phẩm-->


    <!-- Main content -->
</div>
<script crossorigin="anonymous"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- jQuery -->
<script src="plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
<script src="plugins/chart.js/Chart.min.js"></script>
<!-- Sparkline -->
<script src="plugins/sparklines/sparkline.js"></script>
<!-- JQVMap -->
<script src="plugins/jqvmap/jquery.vmap.min.js"></script>
<script src="plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
<!-- jQuery Knob Chart -->
<script src="plugins/jquery-knob/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="plugins/moment/moment.min.js"></script>
<script src="plugins/daterangepicker/daterangepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Summernote -->
<script src="plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- SweetAlert2 -->
<script src="plugins/sweetalert2/sweetalert2.min.js"></script>
<!-- Toastr -->
<script src="plugins/toastr/toastr.min.js"></script>
<script src="/plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- jquery-validation -->
<script src="dist/js/pages/dashboard.js"></script>
<script src="/plugins/jquery-validation/jquery.validate.min.js"></script>
<script src="/plugins/jquery-validation/additional-methods.min.js"></script>
<!-- AdminLTE App -->
<script src="/dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="/dist/js/demo.js"></script>
<script src="dist/js/adminlte.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="dist/js/demo.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script>
    $(function () {
        $.validator.setDefaults({
            submitHandler: function () {
                alert("Form successful submitted!");
            }
        });
        $('#create-form').validate({
            rules: {
                productName: {
                    required: true,
                    minLength : 5
                },
                productPrice: {
                    required: true,
                    min: 1000,

                },
                productQuantity: {
                    required: true,
                    min:1,
                },
                productDescription: {
                    required: true,
                    minLength : 12

                },

            },
            messages: {
                productName: {
                    required: "Hãy nhập tên sản phẩm!",
                    minLength: "Tên sản phẩm tối thiểu 5 ký tự!"
                },
                productPrice: {
                    required: "Hãy nhập giá sản phẩm!",
                    min: "Giá thấp nhất là 1000(VND)!"
                },
                productQuantity: {
                    required: "Hãy nhập số lượng sản phẩm!",
                    min: "Số lượng tối thiểu là 1!"
                },
                productDescription: {
                    required: "Hãy nhập mô tả sản phẩm!",
                    minLength: "Mô tả sản phẩm tối thiểu 12 ký tự!"

                },

            },
            errorElement: 'span',
            errorPlacement: function (error, element) {
                error.addClass('invalid-feedback');
                element.closest('.form-group').append(error);
            },
            highlight: function (element, errorClass, validClass) {
                $(element).addClass('is-invalid');
            },
            unhighlight: function (element, errorClass, validClass) {
                $(element).removeClass('is-invalid');
            }
        });
    });
</script>
<script src="product.js"></script>
</body>
</html>
